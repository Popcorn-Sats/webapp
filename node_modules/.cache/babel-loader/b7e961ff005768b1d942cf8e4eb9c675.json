{"ast":null,"code":"var _jsxFileName = \"/Users/Zane/bitcoinprojects/luca/Client/src/components/Category.js\";\nimport React from 'react';\nimport { EditIcon, DropdownIcon, TrashIcon } from '../icons';\nimport Server from '../utils/server';\nimport { TableCell, TableRow, Button, Input } from '@windmill/react-ui';\nexport class Category extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editView: false,\n      category: this.props.category,\n      savedCategory: this.props.savedCategory\n    };\n    this.onEditButtonClicked = this.onEditButtonClicked.bind(this);\n    this.onSubmitButtonClicked = this.onSubmitButtonClicked.bind(this);\n    this.cancelEdit = this.cancelEdit.bind(this);\n    this.updateName = this.updateName.bind(this);\n  }\n\n  hasAllRequiredFields() {\n    const category = this.state.category;\n\n    if (!category.name) {\n      return false;\n    }\n\n    return true;\n  }\n\n  hasChanges() {\n    const category = this.state.category;\n    const savedCategory = this.state.savedCategory;\n\n    if (!savedCategory) {\n      return false;\n    }\n\n    if (category.name === savedCategory.name) {\n      return false;\n    }\n\n    return true;\n  }\n\n  onEditButtonClicked() {\n    this.setState({\n      editView: !this.state.editView\n    });\n  }\n\n  updateName(event) {\n    const category = JSON.parse(JSON.stringify(this.state.category));\n    category.name = event.target.value;\n    this.setState({\n      category: category\n    });\n    console.log(this.state.category.name);\n  }\n\n  cancelEdit() {\n    this.setState({\n      category: this.state.savedCategory,\n      editView: !this.state.editView\n    });\n  }\n\n  onSubmitButtonClicked() {\n    Server.editCategory(JSON.parse(JSON.stringify(this.state.category))).then(category => {\n      this.setState({\n        savedCategory: this.state.category,\n        editView: !this.state.editView\n      });\n    });\n  }\n\n  addCommas(nStr) {\n    nStr += '';\n    var x = nStr.split('.');\n    var x1 = x[0];\n    var x2 = x.length > 1 ? '.' + x[1] : '';\n    var rgx = /(\\d+)(\\d{3})/;\n\n    while (rgx.test(x1)) {\n      x1 = x1.replace(rgx, '$1' + ',' + '$2');\n    }\n\n    return x1 + x2;\n  }\n\n  renderButtons() {\n    let saveButton, cancelButton, deleteButton;\n\n    if (this.hasChanges() && this.hasAllRequiredFields()) {\n      saveButton = /*#__PURE__*/React.createElement(Button, {\n        \"aria-label\": \"Delete\",\n        block: true,\n        size: \"small\",\n        onClick: this.onSubmitButtonClicked,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 20\n        }\n      }, \"Save\");\n    } else {\n      saveButton = /*#__PURE__*/React.createElement(Button, {\n        disabled: true,\n        \"aria-label\": \"Delete\",\n        block: true,\n        size: \"small\",\n        onClick: this.onSubmitButtonClicked,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 20\n        }\n      }, \"Save\");\n    }\n\n    if (this.hasChanges()) {\n      // Note: need to revert state on cancel\n      cancelButton = /*#__PURE__*/React.createElement(Button, {\n        layout: \"outline\",\n        \"aria-label\": \"Cancel\",\n        onClick: this.cancelEdit,\n        block: true,\n        size: \"small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 22\n        }\n      }, \"Cancel\");\n    } else {\n      cancelButton = /*#__PURE__*/React.createElement(Button, {\n        layout: \"outline\",\n        \"aria-label\": \"Cancel\",\n        onClick: this.onEditButtonClicked,\n        block: true,\n        size: \"small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 22\n        }\n      }, \"Cancel\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center space-x-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }\n    }, saveButton, cancelButton);\n  }\n\n  render() {\n    const editClicked = this.state.editView;\n\n    if (editClicked) {\n      return /*#__PURE__*/React.createElement(TableRow, {\n        key: this.props.category.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        className: \"text-sm\",\n        value: this.state.category.name,\n        onChange: this.updateName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 19\n        }\n      }, this.props.category.balance, \" sats\")), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }\n      }, this.renderButtons()));\n    }\n\n    return /*#__PURE__*/React.createElement(TableRow, {\n      key: this.props.category.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, this.state.category.name)), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 19\n      }\n    }, this.addCommas(this.props.category.balance), \" sats\")), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center space-x-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      layout: \"link\",\n      size: \"icon\",\n      \"aria-label\": \"Delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(DropdownIcon, {\n      className: \"w-5 h-5\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      layout: \"link\",\n      size: \"icon\",\n      \"aria-label\": \"Edit\",\n      onClick: this.onEditButtonClicked,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(EditIcon, {\n      className: \"w-5 h-5\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      layout: \"link\",\n      size: \"icon\",\n      \"aria-label\": \"Delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TrashIcon, {\n      className: \"w-5 h-5\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 23\n      }\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/Users/Zane/bitcoinprojects/luca/Client/src/components/Category.js"],"names":["React","EditIcon","DropdownIcon","TrashIcon","Server","TableCell","TableRow","Button","Input","Category","Component","constructor","props","state","editView","category","savedCategory","onEditButtonClicked","bind","onSubmitButtonClicked","cancelEdit","updateName","hasAllRequiredFields","name","hasChanges","setState","event","JSON","parse","stringify","target","value","console","log","editCategory","then","addCommas","nStr","x","split","x1","x2","length","rgx","test","replace","renderButtons","saveButton","cancelButton","deleteButton","render","editClicked","id","balance"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { EditIcon, DropdownIcon, TrashIcon } from '../icons'\nimport Server from '../utils/server'\n\nimport {\n    TableCell,\n    TableRow,\n    Button,\n    Input,\n  } from '@windmill/react-ui'\n\nexport class Category extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      editView: false,\n      category: this.props.category,\n      savedCategory: this.props.savedCategory\n    }\n    this.onEditButtonClicked = this.onEditButtonClicked.bind(this)\n    this.onSubmitButtonClicked = this.onSubmitButtonClicked.bind(this)\n    this.cancelEdit = this.cancelEdit.bind(this)\n\n    this.updateName = this.updateName.bind(this);\n  }\n\n  hasAllRequiredFields() {\n    const category = this.state.category;\n    if (!category.name) {\n      return false;\n    }\n    return true;\n  }\n\n  hasChanges() {\n    const category = this.state.category;\n    const savedCategory = this.state.savedCategory;\n    if (!savedCategory) {\n      return false;\n    }\n\n    if (category.name === savedCategory.name) {\n      return false;\n    }\n\n    return true;\n  }\n\n  onEditButtonClicked(){\n    this.setState({\n      editView: !this.state.editView\n    })\n  }\n\n  updateName(event) {\n    const category = JSON.parse(JSON.stringify(this.state.category))\n    category.name = event.target.value\n    this.setState({category: category})\n    console.log(this.state.category.name)\n  }\n\n  cancelEdit() {\n    this.setState({\n      category: this.state.savedCategory,\n      editView: !this.state.editView\n    })\n  }\n\n  onSubmitButtonClicked() {\n    Server.editCategory(JSON.parse(JSON.stringify(this.state.category))).then(category => {\n      this.setState({\n        savedCategory: this.state.category,\n        editView: !this.state.editView\n      })\n    })\n  }\n\n  addCommas(nStr){\n    nStr += '';\n    var x = nStr.split('.');\n    var x1 = x[0];\n    var x2 = x.length > 1 ? '.' + x[1] : '';\n    var rgx = /(\\d+)(\\d{3})/;\n    while (rgx.test(x1)) {\n     x1 = x1.replace(rgx, '$1' + ',' + '$2');\n    }\n    return x1 + x2;\n   }\n\n  renderButtons() {\n    let saveButton, cancelButton, deleteButton\n\n    if (this.hasChanges() && this.hasAllRequiredFields()){\n      saveButton = <Button aria-label=\"Delete\" block size=\"small\" onClick={this.onSubmitButtonClicked}>Save</Button>\n    } else {\n      saveButton = <Button disabled aria-label=\"Delete\" block size=\"small\" onClick={this.onSubmitButtonClicked}>Save</Button>\n    }\n\n    if (this.hasChanges()) {\n      // Note: need to revert state on cancel\n      cancelButton = <Button layout=\"outline\" aria-label=\"Cancel\" onClick={this.cancelEdit} block size=\"small\">Cancel</Button>\n    } else {\n      cancelButton = <Button layout=\"outline\" aria-label=\"Cancel\" onClick={this.onEditButtonClicked} block size=\"small\">Cancel</Button>\n    }\n\n    return (\n      <div className=\"flex items-center space-x-4\">\n        {saveButton}\n        {cancelButton}\n      </div>\n    )\n  }\n    \n  render() {\n      const editClicked = this.state.editView\n      if (editClicked) {\n        return (\n          <TableRow key={this.props.category.id}>\n                <TableCell>\n                  <Input \n                    className=\"text-sm\"\n                    value={this.state.category.name}\n                    onChange={this.updateName}\n                  />\n                </TableCell>\n                <TableCell>\n                  <span className=\"text-sm\">{this.props.category.balance} sats</span>\n                </TableCell>\n                <TableCell>\n                    {this.renderButtons()}\n                </TableCell>\n              </TableRow>\n        )\n      }\n\n        return (\n            <TableRow key={this.props.category.id}>\n                <TableCell>\n                    <p className=\"text-sm\">{this.state.category.name}</p>\n                </TableCell>\n                <TableCell>\n                  <span className=\"text-sm\">{this.addCommas(this.props.category.balance)} sats</span>\n                </TableCell>\n                <TableCell>\n                  <div className=\"flex items-center space-x-4\">\n                    <Button layout=\"link\" size=\"icon\" aria-label=\"Delete\">\n                      <DropdownIcon className=\"w-5 h-5\" aria-hidden=\"true\" />\n                    </Button>\n                    <Button layout=\"link\" size=\"icon\" aria-label=\"Edit\" onClick={this.onEditButtonClicked}>\n                      <EditIcon className=\"w-5 h-5\" aria-hidden=\"true\" />\n                    </Button>\n                    <Button layout=\"link\" size=\"icon\" aria-label=\"Delete\">\n                      <TrashIcon className=\"w-5 h-5\" aria-hidden=\"true\" />\n                    </Button>\n                  </div>\n                </TableCell>\n              </TableRow>\n              \n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}